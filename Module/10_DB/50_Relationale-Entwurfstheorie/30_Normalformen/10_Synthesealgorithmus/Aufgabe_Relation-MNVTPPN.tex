\documentclass{bschlangaul-aufgabe}
\bLadePakete{mathe,normalformen,synthese-algorithmus}
\begin{document}
\bAufgabenMetadaten{
  Titel = {Aufgabe zu Kandidatenschlüssel, Normalform, Synthesealgorithmus},
  Thematik = {Relation-MNVTPPN},
  RelativerPfad = Module/10_DB/50_Relationale-Entwurfstheorie/30_Normalformen/10_Synthesealgorithmus/Aufgabe_Relation-MNVTPPN.tex,
  ZitatSchluessel = db:pdf:tum:uebung-08,
  BearbeitungsStand = mit Lösung,
  Korrektheit = unbekannt,
  Stichwoerter = {Synthese-Algorithmus},
}

\let\ahr=\bRechtsReduktionInline
\let\a=\bAttributHuelleOhneMathe
\let\m=\bAttributMenge
\let\r=\bRelation
\let\fa=\bFunktionaleAbhaengigkeit
\let\FA=\bFunktionaleAbhaengigkeiten
\let\schrittE=\bSyntheseUeberErklaerung
\let\b=\textbf
\let\u=\underline

Betrachten Sie ein abstraktes Relationenschema \r{M, N, V, T, P, PN} mit
den Funktionalen Abhängigkeiten
\bFussnoteUrl{https://db.in.tum.de/teaching/ws1415/grundlagen/Loesung08.pdf}

\FA{%
  M -> M;
  M -> N;
  V -> T, P, PN;
  P -> PN;
}

\begin{enumerate}

%%
%
%%

\item Bestimmen Sie alle Kandidatenschlüssel.\index{Synthese-Algorithmus}
\footcite{db:pdf:tum:uebung-08}

\begin{bAntwort}
$V$ kommt auf keiner rechten Seite der Funktionalen Abhängigkeiten vor.

$\a{R, \m{V}} = \m{V, T, P, PN} \neq R$

$\a{R, \m{V, M}} = \m{V, M, N, T, P, PN} = R$

$\a{R, \m{V, P}} = \m{V, P, T, PN} \neq R$

\m{V, M} ist Schlüsselkandidat
\end{bAntwort}

%%
%
%%

\item In welcher Normalform befindet sich die Relation?

\begin{bAntwort}
Die Relation befindet sich in der 1. Normalform weil, nichtprimäre
Attribute von einer echten Teilmenge des Schlüsselkandidaten abhängen
(\zB \fa{M -> N}).
\end{bAntwort}

%%
%
%%

\item Bestimmen Sie zu den gebenen Funktionalen Abhängigkeiten die
kanonische Überdeckung.
\index{Kanonische Überdeckung}

\begin{bAntwort}

\begin{enumerate}
\item \schrittE{1-1}

\bNichtsZuTun

\item \schrittE{1-2}

\bPseudoUeberschrift{M}

$M \in$ \ahr{M -> M}{}{M}{\b{M}, N}

\FA{
  M -> NICHTS;
  M -> N;
  V -> T, P, PN;
  P -> PN;
}

\bPseudoUeberschrift{PN}

$PN \in$ \ahr{V -> T, P, PN}{V -> T, P}{V}{V, T, P, \b{PN}}

\FA{
  M -> NICHTS;
  M -> N;
  V -> T, P;
  P -> PN;
}

\item \schrittE{1-3}

\bNichtsZuTun

\item \schrittE{1-4}

\FA{%
  M -> N;
  V -> T, P;
  P -> PN;
}

\end{enumerate}
\end{bAntwort}

%%
%
%%

\item Falls nötig, überführen Sie die Relation verlustfrei und
abhängigkeitsbewahrend in die dritte Normalform.

\begin{bAntwort}
\begin{enumerate}
\item \schrittE{2}

\r[R1]{\u{M}, N} \\
\r[R2]{\u{V}, T, P} \\
\r[R3]{\u{P}, PN}

\item \schrittE{3}

\r[R1]{\u{M}, N} \\
\r[R2]{\u{V}, T, P} \\
\r[R3]{\u{P}, PN}\\
\r[R4]{\u{V, M}}

\item \schrittE{4}

\bNichtsZuTun

\end{enumerate}
\end{bAntwort}
\end{enumerate}
\end{document}
