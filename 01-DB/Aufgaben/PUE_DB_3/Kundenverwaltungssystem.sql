-- sudo mysql < Kundenverwaltungssystem.sql
DROP DATABASE IF EXISTS Kundenverwaltungssystem;
CREATE DATABASE Kundenverwaltungssystem;
USE Kundenverwaltungssystem;

CREATE TABLE Kunde(
	ID INTEGER PRIMARY KEY,
	Vorname VARCHAR(30),
	Nachname VARCHAR(30),
	PLZ INTEGER
);

CREATE TABLE Produkt(
	GTIN INTEGER PRIMARY KEY,
	Bezeichnung VARCHAR(40),
	Bruttopreis DOUBLE,
	MWStSatz INTEGER
);

CREATE TABLE Kauf(
  ID INTEGER REFERENCES Kunde(ID),
  GTIN INTEGER REFERENCES Produkt(GTIN),
  Datum DATE,
  Menge INTEGER,
  PRIMARY KEY (ID, GTIN, Datum)
);

INSERT INTO Kunde VALUES (1, 'Max', 'Mustermann',91052);
INSERT INTO Kunde VALUES (2, 'Erika', 'Musterfrau',91052);
INSERT INTO Kunde VALUES (3, 'Max', 'Meyer',91058);
INSERT INTO Kunde VALUES (4, 'Hans', 'Schmidt',91054);
INSERT INTO Kunde VALUES (5, 'Eva', 'MÃ¼ller',91056);
INSERT INTO Kunde VALUES (6, 'Hanna', 'Winter',20251);
INSERT INTO Kunde VALUES (7, 'Bert', 'Sommer',20251);
INSERT INTO Kunde VALUES (8, 'Jakob', 'Sommer',20251);

INSERT INTO Produkt VALUES (123, 'Buch', 12.30,19);
INSERT INTO Produkt VALUES (124, 'Kaffee', 4.30,7);
INSERT INTO Produkt VALUES (125, 'Pullover', 36.40,19);
INSERT INTO Produkt VALUES (113, 'Heft', 2.30,19);
INSERT INTO Produkt VALUES (023, 'Honig', 3.20,7);
INSERT INTO Produkt VALUES (155, 'T-Shirt', 19.30,19);
INSERT INTO Produkt VALUES (189, 'Nudeln', 1.30,7);
INSERT INTO Produkt VALUES (004, 'Sonnenbrille', 40.60,19);
INSERT INTO Produkt VALUES (324, 'Hammer', 22.80,19);
INSERT INTO Produkt VALUES (112, 'Topf', 50.20,19);
INSERT INTO Produkt VALUES (453, 'Klopapier', 3.30,7);
INSERT INTO Produkt VALUES (765, 'Duschgel', 1.89,19);
INSERT INTO Produkt VALUES (889, 'Deko', 5.89,19);

INSERT INTO Kauf VALUES(1,123,'2019-04-11',1);
INSERT INTO Kauf VALUES(1,124,'2019-04-11',21);
INSERT INTO Kauf VALUES(1,125,'2019-04-11',1);
INSERT INTO Kauf VALUES(1,765,'2019-04-11',4);
INSERT INTO Kauf VALUES(1,453,'2019-04-11',1);
INSERT INTO Kauf VALUES(1,324,'2019-04-11',3);
INSERT INTO Kauf VALUES(1,113,'2019-04-11',2);
INSERT INTO Kauf VALUES(1,023,'2019-04-11',1);
INSERT INTO Kauf VALUES(1,189,'2019-04-11',1);
INSERT INTO Kauf VALUES(1,112,'2019-04-11',7);
INSERT INTO Kauf VALUES(1,155,'2019-04-11',7);
INSERT INTO Kauf VALUES(1,004,'2019-05-11',6);
INSERT INTO Kauf VALUES(7,112,'2019-04-11',7);
INSERT INTO Kauf VALUES(5,112,'2019-04-11',7);
INSERT INTO Kauf VALUES(8,112,'2019-06-23',5);
INSERT INTO Kauf VALUES(8,112,'2019-04-12',3);
INSERT INTO Kauf VALUES(2,112,'2019-04-23',1);
INSERT INTO Kauf VALUES(2,112,'2019-08-11',8);
INSERT INTO Kauf VALUES(4,112,'2019-10-10',2);
INSERT INTO Kauf VALUES(2,453,'2019-09-24',4);
INSERT INTO Kauf VALUES(4,004,'2019-07-30',9);
