\documentclass{lehramt-informatik-haupt}

\begin{document}
\section{Aufgabe 5: Listen (Check-Up)}

Erstellen Sie ein Deutsch-Englisch Wörterbuch. Verwenden Sie dazu eine
einfach verkettete Liste mit Kompositum. Identifizieren Sie die
benötigten Klassen, legen Sie das Wörterbuch an und implementieren Sie
anschließend die geforderten Methoden.
\footcite[Seite 4, Aufgabe 5]{aud:ab:5}

\begin{itemize}
\item Ein Listenelement, welches immer jeweils auf seinen Nachfolger
verweisen kann, enthält jeweils einen Eintrag des Wörterbuchs. Ein
Eintrag besteht aus dem deutschen und dem zugehörigen englischen Wort.
Diese können natürlich jeweils zurückgegeben werden.

\item Mit der Methode \java{einfuegen (String deutsch, String englisch)}
soll ein neuer Eintrag in das Wörterbuch eingefügt werden können. Wie in
jedem Wörterbuch müssen die (deutschen) Einträge jedoch alphabetisch
sortiert sein, sodass nicht an einer beliebigen Stelle eingefügt werden
kann. Um die korrekte Einfügeposition zu finden, ist das Vergleichen von
Strings notwendig. Recherchieren Sie dazu, wie die Methode
\java{compareTo()} in Java funktioniert!

\item Der Aufruf der Methode \java{uebersetze(String deutsch)} auf der
Liste soll nun für ein übergebenes deutsches Wort die englische
Übersetzung ausgeben.

%%
%
%%

\subsection{Lösung}

\paragraph{Klasse \texttt{WörterbuchEintrag}}

Die abstrakte Klasse im Kompositumentwurfsmuster von der sowohl die
primitive Klasse als auch die Behälterklasse erben.

\begin{minted}{java}
public abstract class WörterbuchEintrag {
  protected WortPaar nächstes;

  protected WortPaar gibNächstes () {
    return nächstes;
  }

  protected void setzeNächstes (WortPaar wortPaar) {
    nächstes = wortPaar;
  }
}
\end{minted}

%%
%
%%

\paragraph{Klasse \texttt{WortPaar}}

Das Listenelement (die primitive Klasse im Kompositumentwurfsmuster).

\begin{minted}{java}
public class WortPaar extends WörterbuchEintrag {
  private final String deutsch;

  private final String englisch;

  public WortPaar(String deutsch, String englisch) {
    this.deutsch = deutsch;
    this.englisch = englisch;
  }

  public String gibDeutschesWort() {
    return deutsch;
  }

  public String gibEnglischesWort() {
    return englisch;
  }
}
\end{minted}

%%
%
%%

\paragraph{Klasse \texttt{Wörterbuch}}

Die Behälterklasse im Kompositumentwurfsmuster.

% Musste spicken:
% https://www.geeksforgeeks.org/given-a-linked-list-which-is-sorted-how-will-you-insert-in-sorted-way/
\begin{minted}{java}
public class Wörterbuch extends WörterbuchEintrag {

  public void einfügen(String deutsch, String englisch) {
    WortPaar wort = new WortPaar(deutsch, englisch);

    // Spezialbehandlung, wenn vor das erste Wortpaar des Wörterbuchs eingefügt werden muss.
    WortPaar kopf = gibNächstes();
    if (kopf == null || kopf.gibDeutschesWort().compareTo(wort.gibDeutschesWort()) >= 0) {
      wort.setzeNächstes(kopf);
      setzeNächstes(wort);
      return;
    }
    WortPaar vergleichsWort = gibNächstes();
    while (
        vergleichsWort.gibNächstes() != null &&
            vergleichsWort.gibNächstes().gibDeutschesWort().compareTo(
              wort.gibDeutschesWort()
            ) < 0
    ) {
      vergleichsWort = vergleichsWort.gibNächstes();
    }
    wort.setzeNächstes(vergleichsWort.gibNächstes());
    vergleichsWort.setzeNächstes(wort);
  }

  public String übersetze(String deutsch) {
    if (gibNächstes() == null) {
      return "Noch keine Wörter im Wörterbuch.";
    }
    WortPaar wort = gibNächstes();
    while (wort != null) {
      if (wort.gibDeutschesWort().equals(deutsch)) {
        return wort.gibEnglischesWort();
      }
      wort = wort.gibNächstes();
    }
    return "Es konnte keine passende Übersetzung gefunden werden";
  }

  // Fleißaufgabe.
  public void auflisten() {
    WortPaar wort = gibNächstes();
    while (wort != null) {
      System.out.println(wort.gibDeutschesWort() + " <> " + wort.gibEnglischesWort());
      wort = wort.gibNächstes();
    }
  }

  // Schauen, ob alles funktioniert.
  public static void main(String[] args) {
    Wörterbuch wörterbuch = new Wörterbuch();
    System.out.println(wörterbuch.übersetze("Wassermelone"));

    wörterbuch.einfügen("Wassermelone", "Watermelon");
    System.out.println(wörterbuch.übersetze("Wassermelone"));

    wörterbuch.einfügen("Apfel", "Apple");
    wörterbuch.einfügen("Zitrone", "Lemon");
    wörterbuch.einfügen("Birne", "Pear");
    wörterbuch.einfügen("Klementine", "Clementine");

    wörterbuch.auflisten();
  }
}
\end{minted}
\end{itemize}

\end{document}
