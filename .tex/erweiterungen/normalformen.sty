\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{lehramt-informatik-normalformen}[2020/12/10
Hilfsmakros zum Setzen von Normalformen, Funktionalen Abh채nigkeiten,
Attributh체lle]
\liLadePakete{mathe}
\directlua{
  normalformen = require('lehramt-informatik-normalformen')
}

\def\liTeilen#1{
  \directlua{tex.print(normalformen.teilen('#1'))}
}

\def\lifa#1 > #2 {%
  $\text{#1}\rightarrow\text{#2}$%
}

% Attributmenge
\def\li@menge#1#2{$#1 = \{#2\}$}
\def\liFunktionaleAbhaengigkeitenMenge#1#2{\li@menge{#1}{#2}}
% Mit teilen
\def\liAttributMenge#1#2{$#1 = \{\liTeilen{#2}\}$}

% \let\ah=\liAttributHuelle
\def\liAttributHuelleOhneMathe#1{\textit{AttrH체lle}(#1)}
\def\liAttributHuelle#1{
\ifmmode
  \liAttributHuelleOhneMathe{#1}
\else
  $\liAttributHuelleOhneMathe{#1}$
\fi
}

\def\liMengeOhneMathe#1{\{ #1 \}}

% \let\m=\liMenge
\def\liMenge#1{\liMengeOhneMathe{#1}}

% geschweifte Klammer
\let\liGeschweifteKlammer=\liMenge

% \let\fa=\liFunktionaleAbhaengigkeit
% \liFunktionaleAbhaengigkeit{A, B -> C, D}
\def\liFunktionaleAbhaengigkeit#1{%
  \directlua{normalformen.drucke_funk_abhaengigkeit('#1')}%
}

% \liFunktionaleAbhaengigkeiten[F]{
%   M -> M;
%   M -> N;
%   V -> T, P, PN;
%   P -> PN;
% }
%
% \let\FA=\liFunktionaleAbhaengigkeiten
% Regul채rer Ausdruck zum Konvertieren
% \\item \$(.*) \\rightarrow (.*)\$
% $1 -> $2;
\NewDocumentCommand {\liFunktionaleAbhaengigkeiten} { O{FA} m } {
\par
\noindent
#1 $= \{$
\par
\directlua{normalformen.drucke_funk_abhaengigkeiten('#2')}
\par
\noindent$\}$
}

\def\liRelation#1#2{#1(#2)}
