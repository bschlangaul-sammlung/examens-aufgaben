\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{bschlangaul-wpkalkuel}[2020/06/13 Hilfsmakros zum
Setzen des WP-Kalk√ºls]
%    \end{macrocode}

% \bFaulenzer{
%   wp = bWpKalkuel,
%   equivalent = bWpEquivalent,
%   erklaerung = bWpErklaerung,
% }

%    \begin{macrocode}
\RequirePackage{amsmath}
%    \end{macrocode}

%    \begin{macrocode}
\ExplSyntaxOn
%    \end{macrocode}

% \begin{macro}{\bWpKalkuel}
% \bMakroFaulenzer{wp}{liWpKalkuel}
%    \begin{macrocode}
\def\bWpKalkuelOhneMathe#1#2
{
  \text{wp}(\texttt{\scriptsize"#1"},\thinspace #2)
}
\def\bWpKalkuel#1#2{
  \ifmmode
    \bWpKalkuelOhneMathe{#1}{#2}
  \else
    $\bWpKalkuelOhneMathe{#1}{#2}$
  \fi
}
%    \end{macrocode}
% \end{macro}

%    \begin{macrocode}
\cs_new:Npn \mathe_umgebung:n #1
{
  \medskip

  \hspace{1em}#1

  \medskip
}
%    \end{macrocode}

% \begin{macro}{\bWpPseudoMatheUmgebung}
%    \begin{macrocode}
\def\bWpPseudoMatheUmgebung#1
{
  \mathe_umgebung:n{$#1$}
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\bWpEquivalent}
% \bMakroFaulenzer{equivalent}{liWpEquivalent}
%    \begin{macrocode}
\def\bWpEquivalent#1
{
  \mathe_umgebung:n {
    $\equiv$
    \hspace{1em}
    $#1$
  }
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\bWpErklaerung}
% \bMakroFaulenzer{erklaerung}{liWpErklaerung}
%    \begin{macrocode}
\newlength{\@Skip@Erklaerung@Reset}
\def\bWpErklaerung#1
{
  \setlength{\@Skip@Erklaerung@Reset}{\leftskip}
  \setlength{\leftskip}{0.5cm}

  \par
  \noindent
  {
    \scriptsize
    #1
  }
  \par

  \setlength{\leftskip}{\@Skip@Erklaerung@Reset}
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\bWpErklaerungVerzweigung}
%    \begin{macrocode}
\def\bWpErklaerungVerzweigung
{
  $\bWpKalkuelOhneMathe{if~\{~b~\}~then~\{~a1~\}~else~\{~a2~\}}{Q}
  \equiv
  (b \land \bWpKalkuelOhneMathe{a1}{Q})
  \lor
  (\neg b \land \bWpKalkuelOhneMathe{a2}{Q})$
}
%    \end{macrocode}
% \end{macro}

%    \begin{macrocode}
\ExplSyntaxOff
%    \end{macrocode}

%    \begin{macrocode}
