\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{lehramt-informatik-master-theorem}[2021/04/13]
%    \end{macrocode}

% \liLets{
%   O = liO,
%   o = liOmega,
%   T = liT,
%   t = liTheta,
% }

% \begin{verbatim}
% \liMasterVariablenDeklaration
% {3} % a
% {3} % b
% {\mathcal{O}(1)} % f(n)
%
% \liMasterFallRechnung
% % 1. Fall
% {für $\varepsilon = 4$: \\
% $f(n) = 5n^2 \in \O{n^{\log_2 {8 - 4}}} = \O{n^{\log_2 4}} = \O{n^2}$}
% % 2. Fall
% {$f(n) = 5n^2 \notin \t{n^{\log_2 {8}}} = \t{n^3}$}
% % 3. Fall
% {$f(n) = 5n^2 \notin \o{n^{\log_2 {8 + \varepsilon}}}$}
%
% \liMasterWolframLink{T[n]=9T[n/3]\%2B5n^2}
% \end{verbatim}

% \begin{verbatim}
% \liMasterVariablenDeklaration
% {} % a
% {} % b
% {} % f(n) ohne $mathe$
%
% \liMasterFallRechnung
% % 1. Fall
% {}
% % 2. Fall
% {}
% % 3. Fall
% {}
%
% $\Rightarrow T(n) \in \t{n^2 \cdot \log n}$
% \liMasterWolframLink{T[n]=9T[n/3]\%2B5n^2}
% \end{verbatim}

%    \begin{macrocode}
\ExplSyntaxOn
\RequirePackage{amsmath}
%    \end{macrocode}

% \begin{macro}{\liRundeKlammer}
%    \begin{macrocode}
\def\liRundeKlammer#1{
  \negthinspace \left( #1 \right)
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liTheta}
% |\liTheta{n^2}|: \liTheta{n^2}
%    \begin{macrocode}
\def\liThetaOhneMathe#1{
  \Theta \liRundeKlammer{#1}
}
\def\liTheta#1{
  \ifmmode
    \liThetaOhneMathe{#1}
  \else
    $\liThetaOhneMathe{#1}$
  \fi
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liOmega}
% |\liOmega{n^2}|: \liOmega{n^2}
%    \begin{macrocode}
\def\liOmegaOhneMathe#1{
  \Omega \liRundeKlammer{#1}
}
\def\liOmega#1{
  \ifmmode
    \liOmegaOhneMathe{#1}
  \else
    $\liOmegaOhneMathe{#1}$
  \fi
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liO}
% |\liO{n^2}|: \liO{n^2}
%    \begin{macrocode}
\def\liOOhneMathe#1{
  \mathcal{O} \liRundeKlammer{#1}
}
\def\liO#1{
  \ifmmode
    \liOOhneMathe{#1}
  \else
    $\liOOhneMathe{#1}$
  \fi
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liT}
% \liLet{T}{liT}
% |\liT{16}{2}|: \liT{16}{2}
% |\liT{}{2}|: \liT{}{2}
%    \begin{macrocode}
\def\liTOhneMathe#1#2{
  \tl_if_blank:nTF {#1}
  {}
  {#1 \cdot }
  T
  \liRundeKlammer{\frac{n}{#2}}
}
\def\liT#1#2{
  \ifmmode
    \liTOhneMathe{#1}{#2}
  \else
    $\liTOhneMathe{#1}{#2}$
  \fi
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liRekursionsGleichung}
% |\liRekursionsGleichung|: \liRekursionsGleichung
%    \begin{macrocode}
\def\liRekursionsGleichung{
  $T(n) = \liT{a}{b} + f(n)$
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liBedingungEins}
% |\liBedingungEins|: \liBedingungEins
%    \begin{macrocode}
\def\liBedingungEins{
  $f(n) \in \liO{n^{\log\sb{b}a - \varepsilon}}$
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liBedingungZwei}
% |\liBedingungZwei|: \liBedingungZwei
%    \begin{macrocode}
\def\liBedingungZwei{
  $f(n) \in \liTheta{n^{\log\sb{b}a}}$
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liBedingungDrei}
% |\liBedingungDrei|: \liBedingungDrei
%    \begin{macrocode}
\def\liBedingungDrei{
  $f(n) \in \liOmega{n^{\log\sb{b}a + \varepsilon}}$
}
%    \end{macrocode}
% \end{macro}

%    \begin{macrocode}
\ExplSyntaxOff
%    \end{macrocode}

% \begin{macro}{\liMasterVariablen}
%    \begin{macrocode}
\def\liMasterVariablen{
  \begin{displaymath}
  T(n) = \liT{a}{b} + f(n)
  \end{displaymath}

  \begin{itemize}
  \item[$a =$]
  Anzahl der rekursiven Aufrufe, Anzahl der Unterprobleme in der
  Rekursion
  ($a \geq 1$).

  \item[$\textstyle{\frac{1}{b}} =$]
  Teil des Originalproblems, welches wiederum durch alle Unterprobleme
  repräsentiert wird, Anteil an der Verkleinerung des Problems ($b > 1$).

  \item[$f(n) =$]
  Kosten (Aufwand, Nebenkosten), die durch die Division des Problems und
  die Kombination der Teillösungen entstehen. Eine von $T(n)$
  unabhängige und nicht negative Funktion.
  \end{itemize}
  \footcite{wiki:master-theorem}
  \footcite[Seite 19-35]{aud:fs:2}
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liMasterFaelle}
%    \begin{macrocode}
\def\liMasterFaelle{
  \begin{description}
  \item[1. Fall:]
  $T(n) \in \liTheta{n^{\log\sb{b}a}}$

  \hfill falls \liBedingungEins
  für $\varepsilon > 0$

  \item[2. Fall:]
  $T(n) \in \liTheta{n^{\log\sb{b}a} \cdot \log n}$

  \hfill falls \liBedingungZwei

  \item[3. Fall:]
  $T(n) \in \liTheta{f(n)}$

  \hfill falls \liBedingungDrei
  für $\varepsilon > 0$
  und ebenfalls für ein $c$ mit $0 < c < 1$ und alle hinreichend großen $n$
  gilt:
  $a \cdot f(\textstyle {\frac {n}{b}})\leq c \cdot f(n)$
  \end{description}
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liMasterVariablenDeklaration}
%    \begin{macrocode}
\def\liMasterVariablenDeklaration#1#2#3{
  \begin{description}
    \item[Allgemeine Rekursionsgleichung:] \strut

    \liRekursionsGleichung

    \item[Anzahl der rekursiven Aufrufe ($a$):] \strut

    #1

    \item[Anteil Verkleinerung des Problems ($b$):] \strut

    um $\frac{1}{#2}$ also $b = #2$

    \item[Laufzeit der rekursiven Funktion ($f(n)$):] \strut

    $#3$

    \item[Ergibt folgende Rekursionsgleichung:] \strut

    $T(n) = \liT{#1}{#2} + #3$
  \end{description}
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liMasterFallRechnung}
%    \begin{macrocode}
\def\liMasterFallRechnung#1#2#3{
  \begin{description}
  \item[1. Fall:] \liBedingungEins:

  #1

  \item[2. Fall:] \liBedingungZwei:

  #2

  \item[3. Fall:] \liBedingungDrei:

  #3
  \end{description}
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liMasterExkurs}
%    \begin{macrocode}
\def\liMasterExkurs{
  \begin{liExkurs}[Master-Theorem]
  \liMasterVariablen

  \noindent
  Dann gilt:

  \liMasterFaelle
  \end{liExkurs}
}
%    \end{macrocode}
% \end{macro}

% \begin{macro}{\liMasterWolframLink}
% Link zu Wolframalpha (+ durch Prozent 2B ersetzen)
%    \begin{macrocode}
\def\liMasterWolframLink#1{
  Berechne die Rekursionsgleichung auf WolframAlpha:
  \href{https://www.wolframalpha.com/input/?i=#1}{WolframAlpha}
}
%    \end{macrocode}
% \end{macro}

%    \begin{macrocode}
