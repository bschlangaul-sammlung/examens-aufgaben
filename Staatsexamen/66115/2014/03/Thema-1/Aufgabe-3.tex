\documentclass{bschlangaul-aufgabe}
\bLadePakete{baum}
\begin{document}
\bAufgabenTitel{Einfügen und dreimal einen Knoten löschen}
\section{Aufgabe 3
\index{AVL-Baum}
\footcite{examen:66115:2014:03}}

\begin{enumerate}

%%
% a)
%%

\item Fügen Sie die Zahlen (7, 6, 2, 1, 5, 3, 8, 4) in dieser
Reihenfolge in einen anfangs leeren AVL Baum ein. Stellen Sie die AVL
Eigenschaft ggf. nach jedem Einfügen mit geeigneten Rotationen wieder
her. Zeichnen Sie den AVL Baum einmal vor und einmal nach jeder
einzelnen Rotation.

\begin{liProjektSprache}{Baum}
baum avl (
  setze: 7 6 2 1 5 3 8 4;
  drucke;
)
\end{liProjektSprache}

\begin{bBaum}{Nach dem Einfügen von „7“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=0]{7}; ]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach dem Einfügen von „6“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-1]{7};
  [.\node[label=0]{6}; ]
  \edge[blank]; \node[blank]{};
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach dem Einfügen von „2“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-2]{7};
  [.\node[label=-1]{6};
    [.\node[label=0]{2}; ]
    \edge[blank]; \node[blank]{};
  ]
  \edge[blank]; \node[blank]{};
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach der Rechtsrotation}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=0]{6};
  [.\node[label=0]{2}; ]
  [.\node[label=0]{7}; ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach dem Einfügen von „1“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-1]{6};
  [.\node[label=-1]{2};
    [.\node[label=0]{1}; ]
    \edge[blank]; \node[blank]{};
  ]
  [.\node[label=0]{7}; ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach dem Einfügen von „5“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-1]{6};
  [.\node[label=0]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=0]{5}; ]
  ]
  [.\node[label=0]{7}; ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach dem Einfügen von „3“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-2]{6};
  [.\node[label=+1]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=-1]{5};
      [.\node[label=0]{3}; ]
      \edge[blank]; \node[blank]{};
    ]
  ]
  [.\node[label=0]{7}; ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach der Linksrotation}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-2]{6};
  [.\node[label=-2]{5};
    [.\node[label=0]{2};
      [.\node[label=0]{1}; ]
      [.\node[label=0]{3}; ]
    ]
    \edge[blank]; \node[blank]{};
  ]
  [.\node[label=0]{7}; ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach der Rechtsrotation}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=0]{5};
  [.\node[label=0]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=0]{3}; ]
  ]
  [.\node[label=+1]{6};
    \edge[blank]; \node[blank]{};
    [.\node[label=0]{7}; ]
  ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach dem Einfügen von „8“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=+1]{5};
  [.\node[label=0]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=0]{3}; ]
  ]
  [.\node[label=+2]{6};
    \edge[blank]; \node[blank]{};
    [.\node[label=+1]{7};
      \edge[blank]; \node[blank]{};
      [.\node[label=0]{8}; ]
    ]
  ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach der Linksrotation}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=0]{5};
  [.\node[label=0]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=0]{3}; ]
  ]
  [.\node[label=0]{7};
    [.\node[label=0]{6}; ]
    [.\node[label=0]{8}; ]
  ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach dem Einfügen von „4“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-1]{5};
  [.\node[label=+1]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=+1]{3};
      \edge[blank]; \node[blank]{};
      [.\node[label=0]{4}; ]
    ]
  ]
  [.\node[label=0]{7};
    [.\node[label=0]{6}; ]
    [.\node[label=0]{8}; ]
  ]
]
\end{tikzpicture}
\end{bBaum}

%%
% b)
%%

\item Entfernen Sie den jeweils markierten Knoten aus den folgenden
AVL-Bäumen. Stellen Sie die AVL-Eigenschaft ggf. durch geeignete
Rotationen wieder her. Zeichnen Sie nur den resultierenden Baum.

\begin{enumerate}

%%
% i)
%%

\item Baum 1:

\begin{liProjektSprache}{Baum}
baum avl (
  setze: 5 2 10 1 3 8 12 4 6 9 11 13 7 14;
  drucke;
)
\end{liProjektSprache}

\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=+1]{5};
  [.\node[label=+1]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=+1]{3};
      \edge[blank]; \node[blank]{};
      [.\node[label=0,very thick]{4}; ]
    ]
  ]
  [.\node[label=0]{10};
    [.\node[label=-1]{8};
      [.\node[label=+1]{6};
        \edge[blank]; \node[blank]{};
        [.\node[label=0]{7}; ]
      ]
      [.\node[label=0]{9}; ]
    ]
    [.\node[label=+1]{12};
      [.\node[label=0]{11}; ]
      [.\node[label=+1]{13};
        \edge[blank]; \node[blank]{};
        [.\node[label=0]{14}; ]
      ]
    ]
  ]
]
\end{tikzpicture}

% liefert falsches Ergebnis: didaktik.java baum --avl 5 2 10 1 3 8 12 4 6 9 11 13 7 14 lösche 4 -v

\begin{bBaum}{Nach dem Löschen von „4“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-1]{10};
  [.\node[label=+1]{5};
    [.\node[label=0]{2};
      [.\node[label=0]{1}; ]
      [.\node[label=0]{3}; ]
    ]
    [.\node[label=-1]{8};
      [.\node[label=+1]{6};
        \edge[blank]; \node[blank]{};
        [.\node[label=0]{7}; ]
      ]
      [.\node[label=0]{9}; ]
    ]
  ]
  [.\node[label=+1]{12};
    [.\node[label=0]{11}; ]
    [.\node[label=+1]{13};
      \edge[blank]; \node[blank]{};
      [.\node[label=0]{14}; ]
    ]
  ]
]
\end{tikzpicture}
\end{bBaum}

%%
% ii)
%%

\item Baum 2:

\begin{liProjektSprache}{Baum}
baum avl (
  setze: 6 2 8 1 4 7 3 5;
  drucke;
)
\end{liProjektSprache}

\begin{center}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-1]{6};
  [.\node[label=+1]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=0]{4};
      [.\node[label=0]{3}; ]
      [.\node[label=0]{5}; ]
    ]
  ]
  [.\node[label=-1]{8};
    [.\node[label=0,very thick]{7}; ]
    \edge[blank]; \node[blank]{};
  ]
]
\end{tikzpicture}
\end{center}

\begin{bBaum}{Nach dem Löschen von „7“}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-2]{6};
  [.\node[label=+1]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=0]{4};
      [.\node[label=0]{3}; ]
      [.\node[label=0]{5}; ]
    ]
  ]
  [.\node[label=0]{8}; ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach der Linksrotation}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-2]{6};
  [.\node[label=-1]{4};
    [.\node[label=0]{2};
      [.\node[label=0]{1}; ]
      [.\node[label=0]{3}; ]
    ]
    [.\node[label=0]{5}; ]
  ]
  [.\node[label=0]{8}; ]
]
\end{tikzpicture}
\end{bBaum}

\begin{bBaum}{Nach der Rechtsrotation}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=0]{4};
  [.\node[label=0]{2};
    [.\node[label=0]{1}; ]
    [.\node[label=0]{3}; ]
  ]
  [.\node[label=0]{6};
    [.\node[label=0]{5}; ]
    [.\node[label=0]{8}; ]
  ]
]
\end{tikzpicture}
\end{bBaum}

%%
% ii)
%%

\item Baum 3:

\begin{liProjektSprache}{Baum}[bii]
baum avl (
  setze: 10 5 12 2 8 11 13 1 4 6 9 14 3 7;
  drucke;
)
\end{liProjektSprache}

\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-1]{10};
  [.\node[label=0,very thick]{5};
    [.\node[label=+1]{2};
      [.\node[label=0]{1}; ]
      [.\node[label=-1]{4};
        [.\node[label=0]{3}; ]
        \edge[blank]; \node[blank]{};
      ]
    ]
    [.\node[label=-1]{8};
      [.\node[label=+1]{6};
        \edge[blank]; \node[blank]{};
        [.\node[label=0]{7}; ]
      ]
      [.\node[label=0]{9}; ]
    ]
  ]
  [.\node[label=+1]{12};
    [.\node[label=0]{11}; ]
    [.\node[label=+1]{13};
      \edge[blank]; \node[blank]{};
      [.\node[label=0]{14}; ]
    ]
  ]
]
\end{tikzpicture}

\begin{bBaum}{Nach dem Löschen von „5“:}
\begin{tikzpicture}[li binaer baum]
\Tree
[.\node[label=-1]{10};
  [.\node[label=-1]{6};
    [.\node[label=+1]{2};
      [.\node[label=0]{1}; ]
      [.\node[label=-1]{4};
        [.\node[label=0]{3}; ]
        \edge[blank]; \node[blank]{};
      ]
    ]
    [.\node[label=0]{8};
      [.\node[label=0]{7}; ]
      [.\node[label=0]{9}; ]
    ]
  ]
  [.\node[label=+1]{12};
    [.\node[label=0]{11}; ]
    [.\node[label=+1]{13};
      \edge[blank]; \node[blank]{};
      [.\node[label=0]{14}; ]
    ]
  ]
]
\end{tikzpicture}
\end{bBaum}
\end{enumerate}
\end{enumerate}
\end{document}
