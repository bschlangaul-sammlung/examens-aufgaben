\documentclass{bschlangaul-aufgabe}
\bLadePakete{syntax}
\begin{document}
\bAufgabenMetadaten{
  Titel = {Aufgabe 1},
  Thematik = {Vermischte Fragen},
  RelativerPfad = Staatsexamen/66116/2021/03/Thema-2/Teilaufgabe-2/Aufgabe-1.tex,
  ZitatSchluessel = examen:66116:2021:03,
  BearbeitungsStand = unbekannt,
  Korrektheit = unbekannt,
  Stichwoerter = {DB},
  EinzelpruefungsNr = 66116,
  Jahr = 2021,
  Monat = 03,
  ThemaNr = 2,
  TeilaufgabeNr = 2,
  AufgabeNr = 1,
}

Beantworten Sie die folgenden Fragen und begründen oder erläutern Sie
Ihre Antwort.
\index{DB}
\footcite{examen:66116:2021:03}

\begin{enumerate}

%%
% a)
%%

\item Kann ein Tupel mehrfach im Ergebnis einer SQL-Anfrage enthalten
sein?

\begin{bAntwort}
Ja. Geben wir nur eine Teilmenge an Attributen aus (\zB ohne
Primärschlüssel), so kann ein Tupel mehrfach in
der Ausgabe erscheinen.

Außerdem ist es möglich eine Tabelle ohne \texttt{PRIMARY KEY}
anzulegen. In so einer Tabelle kann dann eine Tupel mehrmals gespeichert
werden und über \texttt{SELECT * FROM ...} mehrmals ausgegeben werden.
(getestet in MySQL und in PostgreSQL).

\begin{minted}{sql}
CREATE TABLE tmp (
  tmp INTEGER
);

INSERT INTO tmp VALUES
  (1),
  (1),
  (1);

SELECT * FROM tmp;
\end{minted}

\begin{minted}{md}
+------+
| tmp  |
+------+
|    1 |
|    1 |
|    1 |
+------+
\end{minted}

Um die mehrfache Ausgabe zu verhindert, gibt es in SQL das
Schlüsselwort \texttt{DISTINCT}. In der Relationalen Algebra hingegeben
sind die Tupel einer Relation eindeutig.
\end{bAntwort}

%%
% b)
%%

\item Was ist der Unterschied zwischen einem \texttt{INNER JOIN} und
einem \texttt{OUTER JOIN}?

\begin{bAntwort}
Ein \texttt{INNER JOIN} entspricht der Schnittmenge $A \cap B$.

Ein \texttt{OUTER JOIN} entspricht der Vereinigung $A \cup B$. Bei
\texttt{OUTER JOIN}s können auch NULL-Werte vorkommen.
\bFussnoteUrl{https://stackoverflow.com/a/38578}
\end{bAntwort}

%%
% c)
%%

\item Welche Auswirkung hat die Verwendung von \texttt{ON DELETE
CASCADE} bei einem Fremdschlüsselattribut?

\begin{bAntwort}
Ist \texttt{ON DELETE CASCADE} bei einem Fremdschlüsselattribut gesetzt,
so wird der referenzierte Datensatz bei einem Löschvorgang mitgelöscht.
\end{bAntwort}

%%
% d)
%%

\item Kann eine abgebrochene (aborted) Transaktion wieder fortgesetzt
werden?

\begin{bAntwort}
Eine Transaktion kann nicht fortgesetzt werden. Sie muss zurückgesetzt
und wiederholt werden.
\end{bAntwort}

%%
% e)
%%

\item Was versteht man unter einer \texttt{stored procedure} im Kontext
einer Programmierschnittstelle für relationale Datenbanken (z.B JDBC)?

\begin{bAntwort}
Eine  \texttt{stored procedure} bildet eine Gruppe von SQL-Befehlen, die
eine logische Einheiten bildet und einer bestimmten Aufgabe zugeordnet
sind. \texttt{stored procedure} werden dazu benutzt eine mehrere
Anweisungen und Abfragen zu koppeln

Beispielsweise können bei einer Angestellten-Datenbank die
Aufgaben „einstellen“, „entlassen“, „befördern“ als \texttt{stored
procedure} kompiliert werden und dann mit unterschiedlichen Parametern
ausgeführt werden.
\bFussnoteUrl{https://docs.oracle.com/javase/tutorial/jdbc/basics/storedprocedures.html}
\end{bAntwort}

%%
% f)
%%

\item Was sind \texttt{check constraints} und wie wirken sich diese aus?

\begin{bAntwort}
Constraints definieren Bedingungen, die beim Einfügen, Ändern und
Löschen von Datensätzen in der Datenbank erfüllt werden müssen. Wird
beispielsweise eine Bedinung bei Einfügen eines Datensatzen nicht
erfüllt, so kann dieser Datensatz nicht gespeichert werden.
\end{bAntwort}
\end{enumerate}
\end{document}
