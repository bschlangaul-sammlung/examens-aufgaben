\documentclass{lehramt-informatik-aufgabe}
\liLadePakete{rmodell,normalformen,synthese-algorithmus}
\begin{document}
\liAufgabenMetadaten{
  Titel = {Aufgabe 3},
  Thematik = {Relation A-F},
  RelativerPfad = Staatsexamen/66116/2019/03/Thema-1/Aufgabe-3.tex,
  ZitatSchluessel = examen:66116:2019:03,
  BearbeitungsStand = unbekannt,
  Korrektheit = unbekannt,
  Stichwoerter = {Relationale Entwurfstheorie, Synthese-Algorithmus},
  ExamenNummer = 66116,
  ExamenJahr = 2019,
  ExamenMonat = 03,
  ExamenThemaNr = 1,
  ExamenAufgabeNr = 3,
}

\let\ahl=\liLinksReduktionInline
\let\ahr=\liRechtsReduktionInline
\let\fa=\liFunktionaleAbhaengigkeit
\let\FA=\liFunktionaleAbhaengigkeiten
\let\m=\liAttributMenge
\let\schrittE=\liSyntheseUeberErklaerung
\let\r=\liRelation
\let\u=\underline

Gegeben sei folgendes relationales Schema R in erster Normalform:
\index{Relationale Entwurfstheorie}
\footcite{examen:66116:2019:03}

\begin{center}
\liRelationMenge{R}{A, B, C, D, E, F}
\end{center}

\noindent
Für $R$ gelte folgende Menge $FD$ funktionaler Abhängigkeiten:

\bigskip

% didaktik.java db "A,D,F->E;B,C->A,E;D->B;D,E->C,B;A->F;" A,B,C,D,E,F
% didaktik.java db "A,D,F->E;B,C->A,E;D->B;D,E->C,B;A->F;"
\FA{
  A, D, F -> E;
  B, C -> A, E;
  D -> B;
  D, E -> C, B;
  A -> F;
}

\begin{enumerate}

%%
% a)
%%

\item Bestimmen Sie alle Kandidatenschlüssel/Schlüsselkandidaten von $R$
mit $FD$. \textit{Hinweis: Die Angabe von Attributmengen, die keine
Kandidatenschlüssel sind, führt zu Abzügen.}

\begin{liAntwort}
\begin{itemize}
\item \m{D, A}
\item \m{D, C}
\item \m{D, E}
\end{itemize}
\end{liAntwort}

%%
% b)
%%

\item Prüfen Sie, ob $R$ mit $FD$ in 2NF bzw. 3NF ist.

\begin{liAntwort}
$R$ ist in 1NF, da \fa{d -> b}
\end{liAntwort}

%%
% c)
%%

\item Bestimmen Sie mit folgenden Schritten eine kanonische Überdeckung
$FD_C$ von $FD$:

\begin{enumerate}

%%
% I.
%%

\item Führen Sie eine Linksreduktion von $FD$ durch. Geben Sie die Menge
funktionaler Abhängigkeiten nach der Linksreduktion an ($FD_L$).

\begin{liAntwort}
\schrittE{1-1}

\liPseudoUeberschrift{\fa{A, D, F -> E}}

$E \notin$ \ahl{A, D, F}{A}{D, F, B}\\
$E \notin$ \ahl{A, D, F}{D}{A, F} \\
$E \in$ \ahl{A, D, F}{F}{A, B, D, \textbf{F}}

\liPseudoUeberschrift{\fa{B, C -> A, E}}

$\m{A, E} \notin$ \ahl{B, C}{B}{C}\\
$\m{A, E} \notin$ \ahl{B, C}{C}{B}

\liPseudoUeberschrift{\fa{D, E -> C, B}}

$\m{C, B} \notin$ \ahl{D, E}{D}{E}\\
$\m{C, B} \notin$ \ahl{D, E}{E}{B, D}

\FA{
  A, D -> E;
  B, C -> A, E;
  D -> B;
  D, E -> C, B;
  A -> F;
}
\end{liAntwort}

%%
% II.
%%

\item Führen Sie eine Rechtsreduktion des Ergebnisses der Linksreduktion
($FD_L$) durch. Geben Sie die Menge funktionaler Abhängigkeiten nach der
Rechtsreduktion an ($FD_R$).

\begin{liAntwort}
\schrittE{1-2}

\liPseudoUeberschrift{E}

$E \notin$ \ahr{A, D -> E}{}{A, D}{A, B, D, F}

$E \notin$ \ahr{B, C -> A, E}{B, C -> A}{B, C}{A, B, C, F}

\liPseudoUeberschrift{B}

$B \notin$ \ahr{D -> B}{}{D}{D}

$B \in$ \ahr{D, E -> C, B}{D, E -> C}{D, E}{\textbf{B}, D, E}

\FA{
  A, D -> E;
  B, C -> A, E;
  D -> B;
  D, E -> C;
  A -> F;
}

\end{liAntwort}

%%
% III.
%%

\item Bestimmen Sie eine kanonische Überdeckung $FD$. von $FD$ auf Basis
des Ergebnisses der Rechtsreduktion ($FD_R$).

\begin{liAntwort}
\begin{itemize}
\item \schrittE{1-3}

\liNichtsZuTun

\item \schrittE{1-4}

\liNichtsZuTun
\end{itemize}
\end{liAntwort}
\end{enumerate}

%%
% d)
%%

\item Zerlegen Sie $R$ mit $FD_C$ mithilfe des Synthesealgorithmus in
3NF. Geben Sie zudem alle funktionalen Abhängigkeiten der erzeugten
Relationenschemata an.
\index{Synthese-Algorithmus}

\begin{liAntwort}
\begin{itemize}
\item \schrittE{2}

\r[R1]{\u{A, D}, E}\\
\r[R2]{\u{B, C}, A, E}\\
\r[R3]{\u{D}, B}\\
\r[R4]{\u{D, E}, C}\\
\r[R5]{\u{A}, F}

\item \schrittE{3}

\liNichtsZuTun

\item \schrittE{4}
\liNichtsZuTun

\end{itemize}
\end{liAntwort}

%%
% e)
%%

\item Prüfen Sie für alle Relationen der Zerlegung aus d), ob sie
jeweils in BCNF sind.

\begin{liAntwort}
R1 und R4 sind in BCNF, weil ihre Determinanten Schlüsselkandidaten
sind.
\end{liAntwort}

\end{enumerate}
\end{document}
